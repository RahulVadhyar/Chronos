<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Chronos: Chronos::Animation Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Chronos
   &#160;<span id="projectnumber">0.0</span>
   </div>
   <div id="projectbrief">A advanced 2D rendering and animation system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('namespaceChronos_1_1Animation.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Chronos::Animation Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChronos_1_1Animation_1_1AnimNode.html">AnimNode</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Node for animation tree.  <a href="structChronos_1_1Animation_1_1AnimNode.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChronos_1_1Animation_1_1AnimShapeAttributes.html">AnimShapeAttributes</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The attributes of a shape involved in animation.  <a href="structChronos_1_1Animation_1_1AnimShapeAttributes.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChronos_1_1Animation_1_1AnimTree.html">AnimTree</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The animation tree class.  <a href="classChronos_1_1Animation_1_1AnimTree.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a219b081ea9a377c5df6149b2158100f0"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, std::vector&lt; <a class="el" href="structChronos_1_1Animation_1_1AnimShapeAttributes.html">AnimShapeAttributes</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceChronos_1_1Animation.html#a219b081ea9a377c5df6149b2158100f0">loadAnimFile</a> (std::string path)</td></tr>
<tr class="memdesc:a219b081ea9a377c5df6149b2158100f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads an animaton file from the given path.  <a href="namespaceChronos_1_1Animation.html#a219b081ea9a377c5df6149b2158100f0">More...</a><br /></td></tr>
<tr class="separator:a219b081ea9a377c5df6149b2158100f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94ff0471375fbe777f8d2a211532588b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceChronos_1_1Animation.html#a94ff0471375fbe777f8d2a211532588b">saveAnimFile</a> (std::map&lt; std::string, std::vector&lt; <a class="el" href="structChronos_1_1Animation_1_1AnimShapeAttributes.html">AnimShapeAttributes</a> &gt;&gt; animation, std::string path)</td></tr>
<tr class="memdesc:a94ff0471375fbe777f8d2a211532588b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves an animation to a .anim in given file.  <a href="namespaceChronos_1_1Animation.html#a94ff0471375fbe777f8d2a211532588b">More...</a><br /></td></tr>
<tr class="separator:a94ff0471375fbe777f8d2a211532588b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2832080f1e4d54f456fd11d9765f8a1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structChronos_1_1Animation_1_1AnimNode.html">AnimNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceChronos_1_1Animation.html#a2832080f1e4d54f456fd11d9765f8a1f">loadAnimTree</a> (std::string path)</td></tr>
<tr class="memdesc:a2832080f1e4d54f456fd11d9765f8a1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads an animation tree from the given path.  <a href="namespaceChronos_1_1Animation.html#a2832080f1e4d54f456fd11d9765f8a1f">More...</a><br /></td></tr>
<tr class="separator:a2832080f1e4d54f456fd11d9765f8a1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36614cdd8d451066b9bdcdf56f0ef9a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceChronos_1_1Animation.html#a36614cdd8d451066b9bdcdf56f0ef9a1">saveAnimTree</a> (<a class="el" href="structChronos_1_1Animation_1_1AnimNode.html">AnimNode</a> animTree, std::string path)</td></tr>
<tr class="memdesc:a36614cdd8d451066b9bdcdf56f0ef9a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves an animation tree to a .skel file in given file.  <a href="namespaceChronos_1_1Animation.html#a36614cdd8d451066b9bdcdf56f0ef9a1">More...</a><br /></td></tr>
<tr class="separator:a36614cdd8d451066b9bdcdf56f0ef9a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a219b081ea9a377c5df6149b2158100f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a219b081ea9a377c5df6149b2158100f0">&#9670;&nbsp;</a></span>loadAnimFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; std::string, std::vector&lt; <a class="el" href="structChronos_1_1Animation_1_1AnimShapeAttributes.html">Chronos::Animation::AnimShapeAttributes</a> &gt; &gt; Chronos::Animation::loadAnimFile </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads an animaton file from the given path. </p>
<p>The animation file is a .anim file that contains the animation data for each shape in an animation tree. This function loads the animation file and returns a map from the shape name to the animation data for that shape. The animation files will be saved as .anim file. The format shall strictly adhere to such a format </p><pre class="fragment">    Head{
    [0, 0, 0, 0.5, 0.5, true]
    [0.1, -0.32, 0, 0.5, 0.5, true]
    [0.1, -0.32, 0, 0.5, 0.5, true]
    [0.1, -0.32, 0, 0.5, 0.5, true]
    }
    Body{
    [0, 0, 0, 0.5, 0.5, true]
    [0.1, -0.32, 0, 0.5, 0.5, true]
    [0.1, -0.32, 0, 0.5, 0.5, true]
    [0.1, -0.32, 0, 0.5, 0.5, true]
    }
    Hand1{
    [0, 0, 0, 0.5, 0.5, true]
    [0.1, -0.32, 0, 0.5, 0.5, true]
    [0.1, -0.32, 0, 0.5, 0.5, true]
    [0.1, -0.32, 0, 0.5, 0.5, true]
    }
    Hand2{
    [0, 0, 0, 0.5, 0.5, true]
    [0.1, -0.32, 0, 0.5, 0.5, true]
    [0.1, -0.32, 0, 0.5, 0.5, true]
    [0.1, -0.32, 0, 0.5, 0.5, true]
    }

@param path The path to the animation file. Must be a .anim file.

@returns The loaded animation in the correct format to be applied to the anim tree
</pre> 
<p class="definition">Definition at line <a class="el" href="animFileParser_8cpp_source.html#l00145">145</a> of file <a class="el" href="animFileParser_8cpp_source.html">animFileParser.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;{</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    std::ifstream file(path);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    std::string line;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    std::map&lt;std::string, std::vector&lt;AnimShapeAttributes&gt;&gt; animationMap;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    std::string currentShape;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordtype">bool</span> insideShape = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">/*Scan the file line by line, validating and adding the necessary information to the</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">    relevant data structures*/</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">while</span> (std::getline(file, line)) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">if</span> (!insideShape &amp;&amp; line[line.size() - 1] == <span class="charliteral">&#39;{&#39;</span>) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            insideShape = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            std::string shapeName = line.substr(0, line.size() - 2);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            animationMap[shapeName] = std::vector&lt;AnimShapeAttributes&gt;();</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            currentShape = shapeName;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (insideShape &amp;&amp; line[0] == <span class="charliteral">&#39;[&#39;</span> &amp;&amp; line[line.size() - 2] == <span class="charliteral">&#39;]&#39;</span>) {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            AnimShapeAttributes shapeAttributes;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            std::string shapeAttributesString = line.substr(1, line.size() - 2);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            std::vector&lt;std::string&gt; shapeAttributesVector;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            std::stringstream ss(shapeAttributesString);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            std::string attribute;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <span class="keywordflow">while</span> (std::getline(ss, attribute, <span class="charliteral">&#39;,&#39;</span>)) {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                shapeAttributesVector.push_back(attribute);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            shapeAttributes.x = std::stof(shapeAttributesVector[0]);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            shapeAttributes.y = std::stof(shapeAttributesVector[1]);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            shapeAttributes.rotation = std::stof(shapeAttributesVector[2]);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            shapeAttributes.xSize = std::stof(shapeAttributesVector[3]);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            shapeAttributes.ySize = std::stof(shapeAttributesVector[4]);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            shapeAttributes.show = std::stoi(shapeAttributesVector[5]);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            animationMap[currentShape].push_back(shapeAttributes);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (insideShape &amp;&amp; line[0] == <span class="charliteral">&#39;}&#39;</span>) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            insideShape = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Invalid file format&quot;</span>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    file.close();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">return</span> animationMap;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="animTree_8hpp_source.html#l00070">Chronos::Animation::AnimShapeAttributes::rotation</a>, <a class="el" href="animTree_8hpp_source.html#l00073">Chronos::Animation::AnimShapeAttributes::show</a>, <a class="el" href="animTree_8hpp_source.html#l00068">Chronos::Animation::AnimShapeAttributes::x</a>, <a class="el" href="animTree_8hpp_source.html#l00071">Chronos::Animation::AnimShapeAttributes::xSize</a>, <a class="el" href="animTree_8hpp_source.html#l00069">Chronos::Animation::AnimShapeAttributes::y</a>, and <a class="el" href="animTree_8hpp_source.html#l00072">Chronos::Animation::AnimShapeAttributes::ySize</a>.</p>

</div>
</div>
<a id="a2832080f1e4d54f456fd11d9765f8a1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2832080f1e4d54f456fd11d9765f8a1f">&#9670;&nbsp;</a></span>loadAnimTree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structChronos_1_1Animation_1_1AnimNode.html">Chronos::Animation::AnimNode</a> Chronos::Animation::loadAnimTree </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads an animation tree from the given path. </p>
<p>An animation tree defines how the shapes are related to each other. It is a tree of shapes. The initial position, relative positions and texture path along with the type of shape(Triangle or Rectangle) is defined in the animation tree. Hence given this animation tree, we can create the shape, render and animate them.</p>
<p>The <a class="el" href="classChronos_1_1Animation_1_1AnimTree.html" title="The animation tree class.">AnimTree</a> file will be saved as a .skel file. A sample file of such type will be strictly as follows: </p><pre class="fragment">    body{
    Type: Triangle
    TexturePath: "Assets/texture.png"
    [0.1, -0.1, 0.4, 0.6, 0.7, true]
    {
    head:[0.3, 0.2],
    leg1:[0.7, 0.6],
    leg2:[0.1, 0.4],
    }
    }

    leg1{
    Type: Rectangle
    TexturePath: "Assets/texture.png"
    [0.2, -0.16, 0.38, 0.12, -0.7, true]
    {
    foot1:[0.3, 0.2],
    foot2:[0.1, 0.4],
    }
    }

    head{
    Type: Rectangle
    TexturePath: "Assets/texture.png"
    [0.2, -0.16, 0.38, 0.12, -0.7, true]
    }

    foot1{
    Type: Rectangle
    TexturePath: "Assets/texture.png"
    [0.2, -0.16, 0.38, 0.12, -0.7, true]
    }

    foot2{
    Type: Rectangle
    TexturePath: "Assets/texture.png"
    [0.2, -0.16, 0.38, 0.12, -0.7, true]
    }

@param path The path to the animation tree file. Must be a .skel file.
@return The loaded animation tree in the correct format.
</pre> 
<p class="definition">Definition at line <a class="el" href="animFileParser_8cpp_source.html#l00003">3</a> of file <a class="el" href="animFileParser_8cpp_source.html">animFileParser.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;{</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    std::ifstream file(path);</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    std::string line;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    AnimNode* currentNode = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    AnimNode root = AnimNode();</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    std::map&lt;std::string, AnimNode*&gt; nodeMap; <span class="comment">// from name to node</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    <span class="keywordtype">bool</span> insideShape = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <span class="keywordtype">bool</span> insideChildren = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    std::string currentShapeName;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <span class="comment">/*Scan the file line by line, validating and adding the necessary information to the</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">    relevant data structures*/</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    <span class="keywordflow">while</span> (std::getline(file, line)) {</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;        <span class="comment">// line is starting a new shape</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        <span class="keywordflow">if</span> (!insideShape &amp;&amp; line[line.size() - 1] == <span class="charliteral">&#39;{&#39;</span>) {</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;            insideShape = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;            std::string shapeName = line.substr(0, line.size() - 2);</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;            <span class="keywordflow">if</span> (nodeMap.count(shapeName) &gt; 0) {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;                currentNode = nodeMap[shapeName];</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                <span class="keywordflow">if</span> (currentNode == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                    currentNode = &amp;root;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;                    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Invalid file format&quot;</span>);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                }</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;            }</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;            <span class="comment">// line is type</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (line.substr(0, 5) == <span class="stringliteral">&quot;Type: &quot;</span> &amp;&amp; insideShape &amp;&amp; !insideChildren) {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            <span class="keywordflow">if</span> (line[6] == <span class="charliteral">&#39;T&#39;</span>) {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                currentNode-&gt;polygonType.triangle = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (line[6] == <span class="charliteral">&#39;R&#39;</span>) {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                currentNode-&gt;polygonType.rectangle = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Invalid file format&quot;</span>);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            }</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            <span class="comment">// line is texture path</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (line.substr(0, 13) == <span class="stringliteral">&quot;TexturePath: &quot;</span> &amp;&amp; insideShape &amp;&amp; !insideChildren) {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            currentNode-&gt;texturePath = line.substr(13, line.size() - 13);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            <span class="comment">// line is shape attributes</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (line[0] == <span class="charliteral">&#39;[&#39;</span> &amp;&amp; line[line.size() - 1] == <span class="charliteral">&#39;]&#39;</span> &amp;&amp; insideShape &amp;&amp; !insideChildren) {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            std::string shapeAttributes = line.substr(1, line.size() - 2);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            std::vector&lt;std::string&gt; shapeAttributesVector;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            std::stringstream ss(shapeAttributes);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            std::string attribute;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <span class="keywordflow">while</span> (std::getline(ss, attribute, <span class="charliteral">&#39;,&#39;</span>)) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                shapeAttributesVector.push_back(attribute);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            }</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            currentNode-&gt;defaultShapeParams.x = std::stof(shapeAttributesVector[0]);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            currentNode-&gt;defaultShapeParams.y = std::stof(shapeAttributesVector[1]);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            currentNode-&gt;defaultShapeParams.rotation = std::stof(shapeAttributesVector[2]);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            currentNode-&gt;defaultShapeParams.xSize = std::stof(shapeAttributesVector[3]);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            currentNode-&gt;defaultShapeParams.ySize = std::stof(shapeAttributesVector[4]);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            currentNode-&gt;defaultShapeParams.show = std::stoi(shapeAttributesVector[5]);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            <span class="comment">// line is starting children nodes</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (line[0] == <span class="charliteral">&#39;{&#39;</span> &amp;&amp; insideShape &amp;&amp; !insideChildren) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            insideChildren = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            <span class="comment">// line is a child node</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (line[line.size() - 2] == <span class="charliteral">&#39;]&#39;</span> &amp;&amp; line[line.size() - 1] == <span class="charliteral">&#39;,&#39;</span> &amp;&amp; insideShape &amp;&amp; insideChildren) {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            std::string childName = line.substr(0, line.find(<span class="charliteral">&#39;[&#39;</span>) - 1);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <span class="keywordtype">float</span> x = std::stof(line.substr(line.find(<span class="charliteral">&#39;[&#39;</span>) + 1, line.find(<span class="charliteral">&#39;,&#39;</span>) - 1));</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <span class="keywordtype">float</span> y = std::stof(line.substr(line.find(<span class="charliteral">&#39;,&#39;</span>) + 1, line.find(<span class="charliteral">&#39;]&#39;</span>) - 1));</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            AnimNode childNode = AnimNode();</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            childNode.name = childName;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            childNode.x_rel = x;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            childNode.y_rel = y;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            currentNode-&gt;children.push_back(childNode);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            nodeMap[childName] = &amp;currentNode-&gt;children[currentNode-&gt;children.size() - 1];</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="comment">// line is ending children nodes</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (line[0] == <span class="charliteral">&#39;}&#39;</span> &amp;&amp; insideShape &amp;&amp; insideChildren) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            insideChildren = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <span class="comment">// line is ending a shape</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (line[0] == <span class="charliteral">&#39;}&#39;</span> &amp;&amp; insideShape &amp;&amp; !insideChildren) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            insideShape = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            nodeMap[currentNode-&gt;name] = currentNode;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="comment">// else something has gone wrong</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Invalid file format&quot;</span>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    file.close();</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> root;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="animTree_8hpp_source.html#l00044">Chronos::Animation::AnimNode::children</a>, <a class="el" href="animTree_8hpp_source.html#l00040">Chronos::Animation::AnimNode::defaultShapeParams</a>, <a class="el" href="animTree_8hpp_source.html#l00047">Chronos::Animation::AnimNode::name</a>, <a class="el" href="animTree_8hpp_source.html#l00041">Chronos::Animation::AnimNode::polygonType</a>, <a class="el" href="chronos_8hpp_source.html#l00051">Chronos::Manager::PolygonType::rectangle</a>, <a class="el" href="structs_8hpp_source.html#l00030">Chronos::Engine::ShapeParams::rotation</a>, <a class="el" href="structs_8hpp_source.html#l00033">Chronos::Engine::ShapeParams::show</a>, <a class="el" href="animTree_8hpp_source.html#l00042">Chronos::Animation::AnimNode::texturePath</a>, <a class="el" href="chronos_8hpp_source.html#l00050">Chronos::Manager::PolygonType::triangle</a>, <a class="el" href="structs_8hpp_source.html#l00028">Chronos::Engine::ShapeParams::x</a>, <a class="el" href="animTree_8hpp_source.html#l00045">Chronos::Animation::AnimNode::x_rel</a>, <a class="el" href="structs_8hpp_source.html#l00031">Chronos::Engine::ShapeParams::xSize</a>, <a class="el" href="structs_8hpp_source.html#l00029">Chronos::Engine::ShapeParams::y</a>, <a class="el" href="animTree_8hpp_source.html#l00046">Chronos::Animation::AnimNode::y_rel</a>, and <a class="el" href="structs_8hpp_source.html#l00032">Chronos::Engine::ShapeParams::ySize</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceChronos_1_1Animation_a2832080f1e4d54f456fd11d9765f8a1f_icgraph.png" border="0" usemap="#anamespaceChronos_1_1Animation_a2832080f1e4d54f456fd11d9765f8a1f_icgraph" alt=""/></div>
<map name="anamespaceChronos_1_1Animation_a2832080f1e4d54f456fd11d9765f8a1f_icgraph" id="anamespaceChronos_1_1Animation_a2832080f1e4d54f456fd11d9765f8a1f_icgraph">
<area shape="rect" title="Loads an animation tree from the given path." alt="" coords="213,5,364,47"/>
<area shape="rect" href="classChronos_1_1Animation_1_1AnimTree.html#a67cca30530d8f1ad5a8e975c13eb7b54" title="Initializes the animation tree with the given path to the .anim file." alt="" coords="5,5,165,47"/>
</map>
</div>

</div>
</div>
<a id="a94ff0471375fbe777f8d2a211532588b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94ff0471375fbe777f8d2a211532588b">&#9670;&nbsp;</a></span>saveAnimFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Chronos::Animation::saveAnimFile </td>
          <td>(</td>
          <td class="paramtype">std::map&lt; std::string, std::vector&lt; <a class="el" href="structChronos_1_1Animation_1_1AnimShapeAttributes.html">AnimShapeAttributes</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>animation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves an animation to a .anim in given file. </p>
<p>The animation file is a .anim file that contains the animation data for each shape in an animation tree. For more information, see the loadAnimFile function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">animation</td><td>The animation to be saved. </td></tr>
    <tr><td class="paramname">path</td><td>The path to the file to be saved. Must be a .anim file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a36614cdd8d451066b9bdcdf56f0ef9a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36614cdd8d451066b9bdcdf56f0ef9a1">&#9670;&nbsp;</a></span>saveAnimTree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Chronos::Animation::saveAnimTree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structChronos_1_1Animation_1_1AnimNode.html">AnimNode</a>&#160;</td>
          <td class="paramname"><em>animTree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves an animation tree to a .skel file in given file. </p>
<p>An animation tree defines how the shapes are related to each other. It is a tree of shapes. For more information, see the loadAnimTree function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">animTree</td><td>The animation tree to be saved. </td></tr>
    <tr><td class="paramname">path</td><td>The path to the file to be saved. <br  />
 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="animFileParser_8cpp_source.html#l00126">126</a> of file <a class="el" href="animFileParser_8cpp_source.html">animFileParser.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    std::ofstream file;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    file.open(path);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    AnimNode currentNode = animTree;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    std::vector&lt;AnimNode&gt; nodeStack;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    nodeStack.push_back(currentNode);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">while</span> (nodeStack.size() &gt; 0) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        currentNode = nodeStack[nodeStack.size() - 1];</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        nodeStack.pop_back();</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        file &lt;&lt; <a class="code" href="animFileParser_8cpp.html#ad63adfe164d524d864c0f58dc6a2cf19">convertAnimNodeToString</a>(currentNode);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> child : currentNode.children) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            nodeStack.push_back(child);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    file.close();</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div>
<div class="ttc" id="aanimFileParser_8cpp_html_ad63adfe164d524d864c0f58dc6a2cf19"><div class="ttname"><a href="animFileParser_8cpp.html#ad63adfe164d524d864c0f58dc6a2cf19">convertAnimNodeToString</a></div><div class="ttdeci">std::string convertAnimNodeToString(Chronos::Animation::AnimNode node)</div><div class="ttdef"><b>Definition:</b> <a href="animFileParser_8cpp_source.html#l00100">animFileParser.cpp:100</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="animTree_8hpp_source.html#l00044">Chronos::Animation::AnimNode::children</a>, and <a class="el" href="animFileParser_8cpp_source.html#l00100">convertAnimNodeToString()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceChronos_1_1Animation_a36614cdd8d451066b9bdcdf56f0ef9a1_cgraph.png" border="0" usemap="#anamespaceChronos_1_1Animation_a36614cdd8d451066b9bdcdf56f0ef9a1_cgraph" alt=""/></div>
<map name="anamespaceChronos_1_1Animation_a36614cdd8d451066b9bdcdf56f0ef9a1_cgraph" id="anamespaceChronos_1_1Animation_a36614cdd8d451066b9bdcdf56f0ef9a1_cgraph">
<area shape="rect" title="Saves an animation tree to a .skel file in given file." alt="" coords="5,5,156,47"/>
<area shape="rect" href="animFileParser_8cpp.html#ad63adfe164d524d864c0f58dc6a2cf19" title=" " alt="" coords="204,13,395,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceChronos_1_1Animation_a36614cdd8d451066b9bdcdf56f0ef9a1_icgraph.png" border="0" usemap="#anamespaceChronos_1_1Animation_a36614cdd8d451066b9bdcdf56f0ef9a1_icgraph" alt=""/></div>
<map name="anamespaceChronos_1_1Animation_a36614cdd8d451066b9bdcdf56f0ef9a1_icgraph" id="anamespaceChronos_1_1Animation_a36614cdd8d451066b9bdcdf56f0ef9a1_icgraph">
<area shape="rect" title="Saves an animation tree to a .skel file in given file." alt="" coords="211,5,361,47"/>
<area shape="rect" href="classChronos_1_1Animation_1_1AnimTree.html#a2ed420b6a1de04f903acefb2dda83b53" title="Saves the animation tree to file." alt="" coords="5,5,163,47"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceChronos.html">Chronos</a></li><li class="navelem"><a class="el" href="namespaceChronos_1_1Animation.html">Animation</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
